<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.0" /><meta property="og:title" content="DHCPv6 relay的使用" /><meta name="author" content="Jinkai" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="本文将介绍如何使用DHCPv6 relay技术转发DHCPv6请求，包括widedhcpv6的交叉编译和配置" /><meta property="og:description" content="本文将介绍如何使用DHCPv6 relay技术转发DHCPv6请求，包括widedhcpv6的交叉编译和配置" /><link rel="canonical" href="https://hjk.life/posts/dhcpv6-relay/" /><meta property="og:url" content="https://hjk.life/posts/dhcpv6-relay/" /><meta property="og:site_name" content="普通人" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-08T09:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DHCPv6 relay的使用" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Jinkai" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jinkai"},"dateModified":"2021-09-08T09:00:00+08:00","datePublished":"2021-09-08T09:00:00+08:00","description":"本文将介绍如何使用DHCPv6 relay技术转发DHCPv6请求，包括widedhcpv6的交叉编译和配置","headline":"DHCPv6 relay的使用","mainEntityOfPage":{"@type":"WebPage","@id":"https://hjk.life/posts/dhcpv6-relay/"},"url":"https://hjk.life/posts/dhcpv6-relay/"}</script><title>DHCPv6 relay的使用 | 普通人</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="普通人"><meta name="application-name" content="普通人"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/favicons/Humanity.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">普通人</a></div><div class="site-subtitle font-italic">潜龙勿用</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/prophethjk" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['prophethjk','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>DHCPv6 relay的使用</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>DHCPv6 relay的使用</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://github.com/prophethjk">Jinkai</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1631062800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2021-09-08 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="710 字"> <em>3 分钟</em>阅读</span></div></div></div><div class="post-content"><p>本文将介绍如何使用DHCPv6 relay技术转发DHCPv6请求，包括widedhcpv6的交叉编译和配置</p><h2 id="dhcpv6简介"><span class="mr-2">DHCPv6简介</span><a href="#dhcpv6简介" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>在<a href="https://cshihong.github.io/2018/02/01/DHCPv6%E5%9F%BA%E7%A1%80/">DHCPv6基础-曹世宏的博客</a>一文对于DHCPv6协议做了详细的介绍，另可查看DHCPv6 IETF标准文档<a href="https://datatracker.ietf.org/doc/html/rfc8415">RFC8415</a>，本文不再赘述。</p><p>DHCPv6 relay(中继代理)的作用就是将原来的DHCPv6<code class="language-plaintext highlighter-rouge">多播</code>(multicast)方式转化为<code class="language-plaintext highlighter-rouge">单播</code>(unicast)报文，从而可以跨网关传输DHCPv6的请求响应，一般的使用场景是DHCPv6客户端与服务器不在同一个链路的情况</p><h2 id="工具"><span class="mr-2">工具</span><a href="#工具" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><p><a href="https://sourceforge.net/projects/wide-dhcpv6/">WIDE-DHCPv6</a></p><li><p>arm-none-linux-gnueabi-gcc(Sourcery CodeBench Lite 2014.05-29)</p></ul><h2 id="编译"><span class="mr-2">编译</span><a href="#编译" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>实现DHCPv6 relay功能的开源工具并不多，而且很多已经长时间没维护了，试了好几个工具后，最后选择了<code class="language-plaintext highlighter-rouge">WIDE-DHCPv6</code>作为项目中使用的工具。</p><h3 id="编辑configure"><span class="mr-2">编辑configure</span><a href="#编辑configure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>修改configure文件</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$as_me</span><span class="s2">: error: cannot check setpgrp when cross compiling"</span> <span class="o">&gt;</span>&amp;2<span class="p">;</span><span class="o">}</span>
<span class="o">{</span> <span class="o">(</span><span class="nb">exit </span>1<span class="o">)</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span><span class="p">;</span><span class="o">}</span>
</pre></table></code></div></div><p>为</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$as_me</span><span class="s2">: error: cannot check setpgrp when cross compiling"</span> <span class="o">&gt;</span>&amp;2<span class="p">;</span><span class="o">}</span>
<span class="c">#{ (exit 1); exit 1; };</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="执行配置脚本"><span class="mr-2">执行配置脚本</span><a href="#执行配置脚本" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">"-D_GNU_SOURCE"</span> ./configure  <span class="nt">--host</span><span class="o">=</span>arm-none-linux-gnueabi <span class="nt">--prefix</span><span class="o">=</span><span class="nv">$PWD</span>/build
</pre></table></code></div></div><h3 id="编辑cftokenc"><span class="mr-2">编辑cftoken.c</span><a href="#编辑cftokenc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>添加</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">int</span><span class="err"> </span><span class="n">yywrap</span><span class="p">()</span><span class="err"> </span><span class="p">{</span><span class="k">return</span><span class="err"> </span><span class="mi">1</span><span class="p">;}</span>
</pre></table></code></div></div><h3 id="执行编译与安装"><span class="mr-2">执行编译与安装</span><a href="#执行编译与安装" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>WIDE-DHCPv6不需要额外依赖，可直接编译，生成的目标文件为单独的二进制文件。执行以下命令即可：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>make &amp; make <span class="nb">install</span>
</pre></table></code></div></div><h2 id="使用"><span class="mr-2">使用</span><a href="#使用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>WIDE-DHCPv6的使用非常简单，甚至不需要配置文件，参数说明如下：</p><pre><code class="language-manual">NAME
     dhcp6relay — DHCPv6 relay agent

SYNOPSIS
     dhcp6relay [-Ddf] [-b boundaddr] [-H hoplim] [-r relay-IF] [-s serveraddr] [-S script-file]
                [-p pid-file] interface ...

DESCRIPTION
     dhcp6relay acts as an intermediary to deliver DHCPv6 messages between clients and servers,
     and is on the same link as a client.  dhcp6relay needs command line arguments interface ...,
     which specifies the list of links accommodating clients.

     Options supported by dhcp6relay are:

     -d      Print debugging messages.

     -D      Even more debugging information is printed.

     -f      Foreground mode (useful when debugging).  Although dhcp6relay usually prints
             warning, debugging, or error messages to syslog(8), it prints the messages to
             standard error if this option is specified.

     -b boundaddr
             Specifies the source address to relay packets to servers (or other agents).

     -H hoplim
             Specifies the hop limit of DHCPv6 Solicit messages forwarded to servers.

     -r relay-IF
             Specifies the interface on which messages to servers are sent.  When omitted, the
             same interface as interface will be used.  When multiple interface are specified,
             this option cannot be omitted.

     -s serveraddr
             Specifies the DHCPv6 server address to relay packets to.  If not specified, packets
             are relayed to ff05::1:3 (All DHCPv6 servers).

     -S script-file
             Specifies the script file to be executed when dhcp6relay receives a RELAY-REPLY
             message from a DHCPv6 server.  Further detail of the script file syntax is available
             in dhcp6c(8)

     -p pid-file
             Use pid-file to dump the process ID of dhcp6relay.

FILES
     /var/run/dhcp6relay.pid  is the default file that contains pid of the currently running
                              dhcp6relay.

SEE ALSO
     dhcp6c(8), dhcp6s(8)

     Ralph Droms, Editor, Dynamic Host Configuration Protocol for IPv6 (DHCPv6), RFC 3315, 2003.

HISTORY
     The dhcp6relay command first appeared in WIDE/KAME IPv6 protocol stack kit.
</code></pre><p>根据该配置说明进行配置即可，其中<code class="language-plaintext highlighter-rouge">-s</code>参数比较重要，用于指定服务端的地址；最后需要加上网口用于监听客户端DHCPv6请求</p><h3 id="示例"><span class="mr-2">示例</span><a href="#示例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>./dhcp6relay <span class="nt">-dD</span> <span class="nt">-s</span> fd12::58 tun0
</pre></table></code></div></div><h2 id="参考"><span class="mr-2">参考</span><a href="#参考" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://cshihong.github.io/2018/02/01/DHCPv6%E5%9F%BA%E7%A1%80/">DHCPv6基础-曹世宏的博客</a><li><a href="https://datatracker.ietf.org/doc/html/rfc3315">RFC3315</a><li><a href="https://datatracker.ietf.org/doc/html/rfc8415">RFC8415</a><li><a href="https://manpages.ubuntu.com/manpages/bionic/man8/dhcp6relay.8.html">Ubuntu Manpage:dhcp6relay—DHCPv6 relay agent</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E6%8A%80%E6%9C%AF/'>技术</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/dhcp/" class="post-tag no-text-decoration" >dhcp</a> <a href="/tags/dhcpv6/" class="post-tag no-text-decoration" >dhcpv6</a> <a href="/tags/relay/" class="post-tag no-text-decoration" >relay</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DHCPv6 relay的使用 - 普通人&amp;url=https://hjk.life/posts/dhcpv6-relay/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DHCPv6 relay的使用 - 普通人&amp;u=https://hjk.life/posts/dhcpv6-relay/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://hjk.life/posts/dhcpv6-relay/&amp;text=DHCPv6 relay的使用 - 普通人" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="http://service.weibo.com/share/share.php?title=DHCPv6 relay的使用 - 普通人&amp;url=https://hjk.life/posts/dhcpv6-relay/" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/quantum-platform-1/">《UML 状态图的实用 C/C++设计》(QP状态机)学习笔记</a><li><a href="/posts/design-patterns-principles/">软件设计模式——七大设计原则</a><li><a href="/posts/const-c/">C语言中的const</a><li><a href="/posts/c-oop/">面向对象编程(OOP)的C语言实现</a><li><a href="/posts/operating-systems-28/">《Operating Systems: Three Easy Pieces》学习笔记(二十八) I/O 设备</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/operating-systems/">Operating Systems</a> <a class="post-tag" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/">操作系统导论</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/dao/">DAO</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/vscode/">vscode</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/5g/">5G</a> <a class="post-tag" href="/tags/btrfs/">btrfs</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/mutual-authentication/"><div class="card-body"> <em class="timeago small" data-ts="1611277200" > 2021-01-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTTPS双向认证原理与测试环境搭建</h3><div class="text-muted small"><p> 原理 双向认证(mutual authentication)，顾名思义，客户端和服务器端都需要验证对方的身份，在建立 HTTPS 连接的过程中，握手的流程比单向认证多了几步。单向认证的过程，客户端从服务器端下载服务器端公钥证书进行验证，然后建立安全通信通道。双向通信流程，客户端除了需要从服务器端下载服务器的公钥证书进行验证外，还需要把客户端的公钥证书上传到服务器端给服务器端进行验证，等双...</p></div></div></a></div><div class="card"> <a href="/posts/btrfs-harddisk/"><div class="card-body"> <em class="timeago small" data-ts="1613955600" > 2021-02-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>在移动硬盘上使用btrfs文件系统</h3><div class="text-muted small"><p> 前言 对于移动硬盘，在空间和便携性上取舍是个比较麻烦的问题，即想要便携又要大的存储空间时怎么办？这时就要考虑带有透明压缩的文件系统，btrfs就是个很好的选择，在拥有诸多现代文件系统特性的基础上增加了透明压缩功能，压缩率能达到50%以上，让移动硬盘能塞下更多文件 但同时btrfs也是有缺陷的，就是主流的操作系统支持性并不好，Windows和Macos需要安装驱动，Linux4.14后...</p></div></div></a></div><div class="card"> <a href="/posts/xml-namespace/"><div class="card-body"> <em class="timeago small" data-ts="1614042000" > 2021-02-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>XML命名空间</h3><div class="text-muted small"><p> xmlns 属性 当在 XML 中使用前缀时，一个所谓的用于前缀的命名空间必须被定义。 命名空间是在元素的开始标签的 xmlns 属性中定义的。 命名空间声明的语法如下。xmlns:前缀=&quot;URI&quot;。 示例： &amp;lt;root&amp;gt; &amp;lt;h:table xmlns:h=&quot;http://www.w3.org/TR/html4/&quot;&amp;gt; &amp;lt;h:tr&amp;gt; ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/plantuml-vscode/" class="btn btn-outline-primary" prompt="上一篇"><p>使用PlantUML绘制类图</p></a> <a href="/posts/memory-fork-error/" class="btn btn-outline-primary" prompt="下一篇"><p>Linux系统中内存不足导致system()执行失败的问题</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "ProphetHJK/prophethjk.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkzMjk1MjU2NjI=", "data-category": "General", "data-category-id": "DIC_kwDOE6Qpns4CPYgF", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "zh-CN", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/prophethjk">Jinkai</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">浙ICP备20006745号-2</a> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/operating-systems/">Operating Systems</a> <a class="post-tag" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/">操作系统导论</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/dao/">DAO</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/vscode/">vscode</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/5g/">5G</a> <a class="post-tag" href="/tags/btrfs/">btrfs</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-VEN4M3BMXV"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-VEN4M3BMXV'); }); </script>
